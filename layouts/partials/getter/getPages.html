{{ $pages := slice }}

{{ $list := . }}
{{ if .Params.mirror }}
    {{ $list = (.Site.GetPage .Params.mirror) }}
{{ end }}

{{ with $list }}
    {{/* Fixed-ordered entries first, rest second */}}
    {{ range .Params.order }}
        {{ $pages = $pages | append ($.Site.GetPage .) }}
    {{ end }}
    {{ $pages = $pages | append ( .Data.Pages | complement $pages ) }}
{{ end }}

{{ return $pages }}