{{ define "main" }}
    {{ $template := .Params.listtype }}
    <article class="list {{ $template }}">
        {{ .Content }}
        
        {{/* Fixed-ordered entries first, rest second */}}
        {{ $entries := slice }}
        {{ range .Params.order }}
            {{ $entries = $entries | append ($.Site.GetPage .) }}
        {{ end }}
        {{ $entries = $entries | append ( .Data.Pages | complement $entries ) }}

        {{ range $entries }}
            {{ if ( eq $template "simple" ) }}
                {{ partial "entry-simple.html" . }}
            {{ else }}
                {{ partial "entry.html" . }}
            {{ end }}
        {{ end }}
    </article>
{{ end }}
